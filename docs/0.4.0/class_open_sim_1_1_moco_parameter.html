<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSim Moco: OpenSim::MocoParameter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen-style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSim Moco
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_open_sim.html">OpenSim</a></li><li class="navelem"><a class="el" href="class_open_sim_1_1_moco_parameter.html">MocoParameter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_open_sim_1_1_moco_parameter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenSim::MocoParameter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>A <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> allows you to optimize property values in an <a class="el" href="namespace_open_sim.html" title="The utilities in this file are categorized as follows: ">OpenSim</a> Model. </p>
<p>To describe this parameter, you must provide the name of the property you want to optimize and the path to the component in the model where the property exists. If the property is not a scalar, then you must also provide the element index of the property you want to optimize. To optimize multiple elements of a non-scalar property, use multiple MocoParameters. By specifying multiple component paths, you can optimize the same property in multiple components (each property will have the same value, as determined by this parameter). The following property types are currently supported:</p><ul>
<li>double</li>
<li>Vec3</li>
<li>Vec6</li>
</ul>
<p>List properties are not currently supported.</p>
<p>The name you give to a <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> does not need to match the name of its model property.</p>
<p>Create a <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> from a property in the model: </p><div class="fragment"><div class="line">MocoParameter p0;</div><div class="line">p0.setName(<span class="stringliteral">&quot;torso_mass&quot;</span>);</div><div class="line">p0.appendComponentPath(<span class="stringliteral">&quot;torso&quot;</span>);</div><div class="line">p0.setParameterName(<span class="stringliteral">&quot;mass&quot;</span>);</div><div class="line">MocoBounds massBounds(60, 80);</div><div class="line">p0.setBounds(massBounds);</div></div><!-- fragment --><p>Using the convenience constructor: </p><div class="fragment"><div class="line">MocoParameter p0(<span class="stringliteral">&quot;torso_mass&quot;</span>, <span class="stringliteral">&quot;torso&quot;</span>, <span class="stringliteral">&quot;mass&quot;</span>, MocoBounds(60, 80));</div></div><!-- fragment --><p>Here is a Matlab example of optimizing the optimal fiber length of a muscle: </p><div class="fragment"><div class="line">study = MocoStudy();</div><div class="line">problem = study.updProblem();</div><div class="line">param = MocoParameter(<span class="stringliteral">&#39;my_param_name&#39;</span>, /forceset/soleus_r<span class="stringliteral">&#39;, &#39;</span>optimal_fiber_length<span class="stringliteral">&#39;, ...</span></div><div class="line"><span class="stringliteral">MocoBounds(0.04, 0.06));</span></div><div class="line"><span class="stringliteral">problem.addParameter(param);</span></div></div><!-- fragment --><p>The generic constructor can be used for more complex <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> assignments. Here, we create a <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> for the y-position of the mass center of three different rigid bodies in the model: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> propertyElt = 1; <span class="comment">// y-position is the second element of the mass_center</span></div><div class="line">std::vector&lt;std::string&gt; componentPaths = {<span class="stringliteral">&quot;pelvis&quot;</span>, <span class="stringliteral">&quot;thigh&quot;</span>, <span class="stringliteral">&quot;shank&quot;</span>};</div><div class="line">MocoParameter y_com(<span class="stringliteral">&quot;y_com&quot;</span>, componentPaths, <span class="stringliteral">&quot;mass_center&quot;</span>, </div><div class="line">        MocoBounds(-0.05, 0.05), propertyElt);</div></div><!-- fragment --> <dl class="section user"><dt>For developers</dt><dd>Every time the problem is solved, a copy of this parameter is used. An individual instance of a parameter is only ever used in a single problem. Therefore, there is no need to clear cache variables that you create in initializeImpl(). Also, information stored in this parameter does not persist across multiple solves. Lastly, a <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> may be applied to multiple models at once, as long as the value described in the <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> exists and <a class="el" href="class_open_sim_1_1_moco_parameter.html#ad65806184fa12afa43890279bd7ce9ad" title="For use by solvers. ">initializeOnModel()</a> is called on all models of interest. </dd></dl>
</div><div class="dynheader">
Inheritance diagram for OpenSim::MocoParameter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_open_sim_1_1_moco_parameter.png" usemap="#OpenSim::MocoParameter_map" alt=""/>
  <map id="OpenSim::MocoParameter_map" name="OpenSim::MocoParameter_map">
</map>
 </div></div>

<p><code>#include &lt;<a class="el" href="_moco_parameter_8h_source.html">Moco/Moco/MocoParameter.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5a4f5ae9162298e1b71e4489d8b0c80b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_parameter.html#a5a4f5ae9162298e1b71e4489d8b0c80b">MocoParameter</a> (const std::string &amp;name, const std::vector&lt; std::string &gt; &amp;componentPaths, const std::string &amp;propertyName, const <a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> &amp;, const int &amp;propertyElt)</td></tr>
<tr class="memdesc:a5a4f5ae9162298e1b71e4489d8b0c80b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a generic constructor that supports applying this parameter to multiple components and to non-scalar properties.  <a href="#a5a4f5ae9162298e1b71e4489d8b0c80b">More...</a><br /></td></tr>
<tr class="separator:a5a4f5ae9162298e1b71e4489d8b0c80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f468fab2dc66f12725cc9c9613289e"><td class="memItemLeft" align="right" valign="top"><a id="a41f468fab2dc66f12725cc9c9613289e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MocoParameter</b> (const std::string &amp;name, const std::string &amp;componentPath, const std::string &amp;propertyName, const <a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> &amp;)</td></tr>
<tr class="separator:a41f468fab2dc66f12725cc9c9613289e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36aae228f09f336cffd9adeb4c91f06c"><td class="memItemLeft" align="right" valign="top"><a id="a36aae228f09f336cffd9adeb4c91f06c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MocoParameter</b> (const std::string &amp;name, const std::string &amp;componentPath, const std::string &amp;propertyName, const <a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> &amp;, const int &amp;propertyElt)</td></tr>
<tr class="separator:a36aae228f09f336cffd9adeb4c91f06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad912b0493da23d670c88a431f2a589d9"><td class="memItemLeft" align="right" valign="top"><a id="ad912b0493da23d670c88a431f2a589d9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MocoParameter</b> (const std::string &amp;name, const std::vector&lt; std::string &gt; &amp;componentPaths, const std::string &amp;propertyName, const <a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> &amp;)</td></tr>
<tr class="separator:ad912b0493da23d670c88a431f2a589d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e61bbd148326de530d745a72af79a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_parameter.html#a21e61bbd148326de530d745a72af79a3">getBounds</a> () const</td></tr>
<tr class="separator:a21e61bbd148326de530d745a72af79a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2370a001a04601753cb9ef9cb19982"><td class="memItemLeft" align="right" valign="top"><a id="a9e2370a001a04601753cb9ef9cb19982"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getPropertyName</b> () const</td></tr>
<tr class="separator:a9e2370a001a04601753cb9ef9cb19982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78e524b00002e8542f7d1a60a27b458"><td class="memItemLeft" align="right" valign="top"><a id="aa78e524b00002e8542f7d1a60a27b458"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getComponentPaths</b> () const</td></tr>
<tr class="separator:aa78e524b00002e8542f7d1a60a27b458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c85b8023ecabe16b4111339ab36733a"><td class="memItemLeft" align="right" valign="top"><a id="a2c85b8023ecabe16b4111339ab36733a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setBounds</b> (const <a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> &amp;bounds)</td></tr>
<tr class="separator:a2c85b8023ecabe16b4111339ab36733a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c58e4108c0ec53f9e24903e10431c8"><td class="memItemLeft" align="right" valign="top"><a id="a94c58e4108c0ec53f9e24903e10431c8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setPropertyName</b> (const std::string &amp;propertyName)</td></tr>
<tr class="separator:a94c58e4108c0ec53f9e24903e10431c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98130abe904a688ceb1961a5776a4b71"><td class="memItemLeft" align="right" valign="top"><a id="a98130abe904a688ceb1961a5776a4b71"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>appendComponentPath</b> (const std::string &amp;componentPath)</td></tr>
<tr class="separator:a98130abe904a688ceb1961a5776a4b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65806184fa12afa43890279bd7ce9ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_parameter.html#ad65806184fa12afa43890279bd7ce9ad">initializeOnModel</a> (Model &amp;model) const</td></tr>
<tr class="memdesc:ad65806184fa12afa43890279bd7ce9ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use by solvers.  <a href="#ad65806184fa12afa43890279bd7ce9ad">More...</a><br /></td></tr>
<tr class="separator:ad65806184fa12afa43890279bd7ce9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ce32c3c56be9d3490ff3ea9f3ddc9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_parameter.html#a44ce32c3c56be9d3490ff3ea9f3ddc9e">applyParameterToModelProperties</a> (const double &amp;value) const</td></tr>
<tr class="memdesc:a44ce32c3c56be9d3490ff3ea9f3ddc9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of the stored model properties, which may include properties from multiple models.  <a href="#a44ce32c3c56be9d3490ff3ea9f3ddc9e">More...</a><br /></td></tr>
<tr class="separator:a44ce32c3c56be9d3490ff3ea9f3ddc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4445100c8c3f0755d6754904a4b82ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_moco_parameter.html#ae4445100c8c3f0755d6754904a4b82ae">printDescription</a> (std::ostream &amp;stream=std::cout) const</td></tr>
<tr class="memdesc:ae4445100c8c3f0755d6754904a4b82ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the name, property name, component paths, property element (if it exists), and bounds for this parameter.  <a href="#ae4445100c8c3f0755d6754904a4b82ae">More...</a><br /></td></tr>
<tr class="separator:ae4445100c8c3f0755d6754904a4b82ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5a4f5ae9162298e1b71e4489d8b0c80b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a4f5ae9162298e1b71e4489d8b0c80b">&#9670;&nbsp;</a></span>MocoParameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OpenSim::MocoParameter::MocoParameter </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>componentPaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>propertyName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>propertyElt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a generic constructor that supports applying this parameter to multiple components and to non-scalar properties. </p>
<p>Specifying propertyElt as -1 is treated as not specifying a property element. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a44ce32c3c56be9d3490ff3ea9f3ddc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ce32c3c56be9d3490ff3ea9f3ddc9e">&#9670;&nbsp;</a></span>applyParameterToModelProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::MocoParameter::applyParameterToModelProperties </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value of the stored model properties, which may include properties from multiple models. </p>

</div>
</div>
<a id="a21e61bbd148326de530d745a72af79a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21e61bbd148326de530d745a72af79a3">&#9670;&nbsp;</a></span>getBounds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_open_sim_1_1_moco_bounds.html">MocoBounds</a> OpenSim::MocoParameter::getBounds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Note: the return value is constructed fresh on every call from the internal property. Avoid repeated calls to this function. </p>

</div>
</div>
<a id="ad65806184fa12afa43890279bd7ce9ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65806184fa12afa43890279bd7ce9ad">&#9670;&nbsp;</a></span>initializeOnModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::MocoParameter::initializeOnModel </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For use by solvers. </p>
<p>This performs error checks and caches information about the model that is useful during the optimization. This method takes a non-const reference to the model because parameters need to be able to alter the model. If it is desired to apply this <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a> to multiple models, this should be called on all models of interest. The property references from each model will be append to this <a class="el" href="class_open_sim_1_1_moco_parameter.html" title="A MocoParameter allows you to optimize property values in an OpenSim Model. ">MocoParameter</a>'s internal property reference list. </p>

</div>
</div>
<a id="ae4445100c8c3f0755d6754904a4b82ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4445100c8c3f0755d6754904a4b82ae">&#9670;&nbsp;</a></span>printDescription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::MocoParameter::printDescription </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>stream</em> = <code>std::cout</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the name, property name, component paths, property element (if it exists), and bounds for this parameter. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_moco_parameter_8h_source.html">MocoParameter.h</a></li>
</ul>
</div><!-- contents -->
</body>
</html>
