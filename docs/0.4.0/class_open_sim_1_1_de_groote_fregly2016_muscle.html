<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSim Moco: OpenSim::DeGrooteFregly2016Muscle Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen-style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSim Moco
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_open_sim.html">OpenSim</a></li><li class="navelem"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html">DeGrooteFregly2016Muscle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_open_sim_1_1_de_groote_fregly2016_muscle-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenSim::DeGrooteFregly2016Muscle Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>This muscle model was published in De Groote et al. </p>
<p>2016. The parameters of the active force-length and force-velocity curves have been slightly modified from what was published to ensure the curves go through key points:</p><ul>
<li>Active force-length curve goes through (1, 1).</li>
<li>Force-velocity curve goes through (-1, 0) and (0, 1). The default tendon force curve parameters are modified from that in De Groote et al., 2016: the curve is parameterized by the strain at 1 norm force (rather than "kT"), and the default value for this parameter is 0.049 (same as in TendonForceLengthCurve) rather than 0.0474.</li>
</ul>
<p>The fiber damping helps with numerically solving for fiber velocity at low activations or with low force-length multipliers, and is likely to be more useful with explicit fiber dynamics than implicit fiber dynamics (when support for fiber dynamics is added).</p>
<p>This class supports tendon compliance dynamics in both explicit and implicit form. Both forms of the dynamics use normalized tendon force as the state variable (rather than the typical fiber length state). The explicit form is handled through the usual Component dynamics interface. The implicit form introduces an additional discrete and cache SimTK::State variable for the derivative of normalized tendon force and muscle-tendon equilibrium residual respectively. The implicit form is only for use with solvers that support implicit dynamics (i.e. Moco) and cannot be used to perform a time-stepping forward simulation with Manager; use explicit mode for time-stepping.</p>
<dl class="section note"><dt>Note</dt><dd>Normalized tendon force is bounded in the range [0, 5] in this class. The methods getMinNormalizedTendonForce() and getMaxNormalizedTendonForce() are available to access these bounds for use in custom solvers.</dd>
<dd>
This class is still under active development and should be used with caution.</dd></dl>
<h1><a class="anchor" id="departures"></a>
Departures from the Muscle base class</h1>
<p>The documentation for Muscle::MuscleLengthInfo states that the optimalFiberLength of a muscle is also its resting length, but this is not true for this muscle: there is a non-zero passive fiber force at the optimal fiber length.</p>
<p>In the Muscle class, setIgnoreTendonCompliance() and setIngoreActivationDynamics() control modeling options, meaning these settings could theoretically be changed. However, for this class, the modeling option is ignored and the values of the ignore_tendon_compliance and ignore_activation_dynamics properties are used directly.</p>
<p>De Groote, F., Kinney, A. L., Rao, A. V., &amp; Fregly, B. J. (2016). Evaluation of Direct Collocation Optimal Control Problem Formulations for Solving the Muscle Redundancy Problem. Annals of Biomedical Engineering, 44(10), 1â€“15. <a href="http://doi.org/10.1007/s10439-016-1591-9">http://doi.org/10.1007/s10439-016-1591-9</a> </p>
</div><div class="dynheader">
Inheritance diagram for OpenSim::DeGrooteFregly2016Muscle:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_open_sim_1_1_de_groote_fregly2016_muscle.png" usemap="#OpenSim::DeGrooteFregly2016Muscle_map" alt=""/>
  <map id="OpenSim::DeGrooteFregly2016Muscle_map" name="OpenSim::DeGrooteFregly2016Muscle_map">
</map>
 </div></div>

<p><code>#include &lt;<a class="el" href="_de_groote_fregly2016_muscle_8h_source.html">Moco/Moco/Components/DeGrooteFregly2016Muscle.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a510aade8e552a714b769876633ce959f"><td class="memItemLeft" align="right" valign="top"><a id="a510aade8e552a714b769876633ce959f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (activation_time_constant, double, &quot;Smaller value means activation can change more rapidly (units: &quot; &quot;seconds).&quot;)</td></tr>
<tr class="separator:a510aade8e552a714b769876633ce959f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a3fdd17fe6b00cf982145721b27065"><td class="memItemLeft" align="right" valign="top"><a id="aa6a3fdd17fe6b00cf982145721b27065"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (deactivation_time_constant, double, &quot;Smaller value means activation can decrease more rapidly &quot; &quot;(units: seconds).&quot;)</td></tr>
<tr class="separator:aa6a3fdd17fe6b00cf982145721b27065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a906863bc305e38cac1d9227e213fbe54"><td class="memItemLeft" align="right" valign="top"><a id="a906863bc305e38cac1d9227e213fbe54"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (default_activation, double, &quot;Value of activation in the default state returned by &quot; &quot;initSystem().&quot;)</td></tr>
<tr class="separator:a906863bc305e38cac1d9227e213fbe54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa918e0d03a7ddad7a44057f536a41c5"><td class="memItemLeft" align="right" valign="top"><a id="afa918e0d03a7ddad7a44057f536a41c5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (default_normalized_tendon_force, double, &quot;Value of normalized tendon force in the default state returned by &quot; &quot;initSystem().&quot;)</td></tr>
<tr class="separator:afa918e0d03a7ddad7a44057f536a41c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4630261294454934a3a60477787aed9"><td class="memItemLeft" align="right" valign="top"><a id="af4630261294454934a3a60477787aed9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (active_force_width_scale, double, &quot;Scale factor for the width of the active force-length curve. &quot; &quot;Larger values make the curve wider. Default: 1.0.&quot;)</td></tr>
<tr class="separator:af4630261294454934a3a60477787aed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021e14366ff7ba7005a846b3268672df"><td class="memItemLeft" align="right" valign="top"><a id="a021e14366ff7ba7005a846b3268672df"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (fiber_damping, double, &quot;The linear damping of the fiber. Default: 0.&quot;)</td></tr>
<tr class="separator:a021e14366ff7ba7005a846b3268672df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f67af33b2bf8a1e8776a0f1c450fef9"><td class="memItemLeft" align="right" valign="top"><a id="a9f67af33b2bf8a1e8776a0f1c450fef9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (ignore_passive_fiber_force, bool, &quot;Make the passive fiber force 0. Default: false.&quot;)</td></tr>
<tr class="separator:a9f67af33b2bf8a1e8776a0f1c450fef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289d7c8b4c31fa7dcb2f43c80427de02"><td class="memItemLeft" align="right" valign="top"><a id="a289d7c8b4c31fa7dcb2f43c80427de02"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (passive_fiber_strain_at_one_norm_force, double, &quot;Fiber strain when the passive fiber force is 1 normalized force. &quot; &quot;Default: 0.6.&quot;)</td></tr>
<tr class="separator:a289d7c8b4c31fa7dcb2f43c80427de02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4add978268bcb7bc1919c44462aa512"><td class="memItemLeft" align="right" valign="top"><a id="ac4add978268bcb7bc1919c44462aa512"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (tendon_strain_at_one_norm_force, double, &quot;Tendon strain at a tension of 1 normalized force. &quot; &quot;Default: 0.049.&quot;)</td></tr>
<tr class="separator:ac4add978268bcb7bc1919c44462aa512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58edb6111812bd38092e57b3506a5f8d"><td class="memItemLeft" align="right" valign="top"><a id="a58edb6111812bd38092e57b3506a5f8d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_PROPERTY</b> (tendon_compliance_dynamics_mode, std::string, &quot;The dynamics method used to enforce tendon compliance dynamics. &quot; &quot;Options: 'explicit' or 'implicit'. Default: 'explicit'. &quot;)</td></tr>
<tr class="separator:a58edb6111812bd38092e57b3506a5f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408190f074a0feb2562f86d9ee1313cc"><td class="memItemLeft" align="right" valign="top"><a id="a408190f074a0feb2562f86d9ee1313cc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_OUTPUT</b> (implicitresidual_normalized_tendon_force, double, <a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#af0458aea14c0978f34d4a38001475123">getImplicitResidualNormalizedTendonForce</a>, SimTK::Stage::Dynamics)</td></tr>
<tr class="separator:a408190f074a0feb2562f86d9ee1313cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7925d9e09d00e0239cceef3e93d9a75"><td class="memItemLeft" align="right" valign="top"><a id="aa7925d9e09d00e0239cceef3e93d9a75"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_OUTPUT</b> (implicitenabled_normalized_tendon_force, bool, <a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a2f5443ec2f7e224d7d8e2a5c51bc53ff">getImplicitEnabledNormalizedTendonForce</a>, SimTK::Stage::Model)</td></tr>
<tr class="separator:aa7925d9e09d00e0239cceef3e93d9a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11ca91af035a2af3c6ea382a3766058f"><td class="memItemLeft" align="right" valign="top"><a id="a11ca91af035a2af3c6ea382a3766058f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>OpenSim_DECLARE_OUTPUT</b> (statebounds_normalized_tendon_force, SimTK::Vec2, <a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#ae1d6aa1bde757912fb3a6dee6e141ca8">getBoundsNormalizedTendonForce</a>, SimTK::Stage::Model)</td></tr>
<tr class="separator:a11ca91af035a2af3c6ea382a3766058f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Set methods.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>If ignore_tendon_compliance is true, this sets nothing.</p>
</div></td></tr>
<tr class="memitem:a5bb17d65fb0745b8e3cbe700b9da3db4"><td class="memItemLeft" align="right" valign="top"><a id="a5bb17d65fb0745b8e3cbe700b9da3db4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setNormalizedTendonForce</b> (SimTK::State &amp;s, double normTendonForce) const</td></tr>
<tr class="separator:a5bb17d65fb0745b8e3cbe700b9da3db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Component interface</div></td></tr>
<tr class="memitem:a014d135ff89de5e0c188cd3d16dd1fba"><td class="memItemLeft" align="right" valign="top"><a id="a014d135ff89de5e0c188cd3d16dd1fba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>extendFinalizeFromProperties</b> () override</td></tr>
<tr class="separator:a014d135ff89de5e0c188cd3d16dd1fba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af961aa9356b5fcd5814f65c7cc3f7f7d"><td class="memItemLeft" align="right" valign="top"><a id="af961aa9356b5fcd5814f65c7cc3f7f7d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>extendAddToSystem</b> (SimTK::MultibodySystem &amp;system) const override</td></tr>
<tr class="separator:af961aa9356b5fcd5814f65c7cc3f7f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa354dc837ea546a787c7c50f02814e3b"><td class="memItemLeft" align="right" valign="top"><a id="aa354dc837ea546a787c7c50f02814e3b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>extendInitStateFromProperties</b> (SimTK::State &amp;s) const override</td></tr>
<tr class="separator:aa354dc837ea546a787c7c50f02814e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a882804858ad156083b75bf1b65893"><td class="memItemLeft" align="right" valign="top"><a id="ab7a882804858ad156083b75bf1b65893"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>extendSetPropertiesFromState</b> (const SimTK::State &amp;s) override</td></tr>
<tr class="separator:ab7a882804858ad156083b75bf1b65893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72f5d5be2df6646f4d49caae5607c9f"><td class="memItemLeft" align="right" valign="top"><a id="ab72f5d5be2df6646f4d49caae5607c9f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>computeStateVariableDerivatives</b> (const SimTK::State &amp;s) const override</td></tr>
<tr class="separator:ab72f5d5be2df6646f4d49caae5607c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Actuator interface</div></td></tr>
<tr class="memitem:a7697bde3edb1b08b9e26eb84f62978e4"><td class="memItemLeft" align="right" valign="top"><a id="a7697bde3edb1b08b9e26eb84f62978e4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>computeActuation</b> (const SimTK::State &amp;s) const override</td></tr>
<tr class="separator:a7697bde3edb1b08b9e26eb84f62978e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Muscle interface</h2></td></tr>
<tr class="memitem:a2005288643de1c23abd8e8dd85369cba"><td class="memItemLeft" align="right" valign="top"><a id="a2005288643de1c23abd8e8dd85369cba"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a2005288643de1c23abd8e8dd85369cba">getActivation</a> (const SimTK::State &amp;s) const override</td></tr>
<tr class="memdesc:a2005288643de1c23abd8e8dd85369cba"><td class="mdescLeft">&#160;</td><td class="mdescRight">If ignore_activation_dynamics is true, this gets excitation instead. <br /></td></tr>
<tr class="separator:a2005288643de1c23abd8e8dd85369cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99687d86287af1afa9e3762013844e5d"><td class="memItemLeft" align="right" valign="top"><a id="a99687d86287af1afa9e3762013844e5d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a99687d86287af1afa9e3762013844e5d">setActivation</a> (SimTK::State &amp;s, double activation) const override</td></tr>
<tr class="memdesc:a99687d86287af1afa9e3762013844e5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">If ignore_activation_dynamics is true, this sets excitation instead. <br /></td></tr>
<tr class="separator:a99687d86287af1afa9e3762013844e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fe88e93096ba35a0d666d332f38abb"><td class="memItemLeft" align="right" valign="top"><a id="ab3fe88e93096ba35a0d666d332f38abb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#ab3fe88e93096ba35a0d666d332f38abb">computeInitialFiberEquilibrium</a> (SimTK::State &amp;s) const override</td></tr>
<tr class="memdesc:ab3fe88e93096ba35a0d666d332f38abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fiber velocity is assumed to be 0. <br /></td></tr>
<tr class="separator:ab3fe88e93096ba35a0d666d332f38abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c95981828d58d901016deb330a5ecf1"><td class="memItemLeft" align="right" valign="top"><a id="a1c95981828d58d901016deb330a5ecf1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>calcInextensibleTendonActiveFiberForce</b> (SimTK::State &amp;, double) const override</td></tr>
<tr class="separator:a1c95981828d58d901016deb330a5ecf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7ced35c7dd1135fc2b3c38d670607a"><td class="memItemLeft" align="right" valign="top"><a id="afb7ced35c7dd1135fc2b3c38d670607a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>calcMuscleLengthInfo</b> (const SimTK::State &amp;s, MuscleLengthInfo &amp;mli) const override</td></tr>
<tr class="separator:afb7ced35c7dd1135fc2b3c38d670607a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2cbd00606dee1f2fe25540162c3987"><td class="memItemLeft" align="right" valign="top"><a id="aea2cbd00606dee1f2fe25540162c3987"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>calcFiberVelocityInfo</b> (const SimTK::State &amp;s, FiberVelocityInfo &amp;fvi) const override</td></tr>
<tr class="separator:aea2cbd00606dee1f2fe25540162c3987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb07195d4d7aed018a85c36f3466d70"><td class="memItemLeft" align="right" valign="top"><a id="a0fb07195d4d7aed018a85c36f3466d70"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>calcMuscleDynamicsInfo</b> (const SimTK::State &amp;s, MuscleDynamicsInfo &amp;mdi) const override</td></tr>
<tr class="separator:a0fb07195d4d7aed018a85c36f3466d70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7dd5617219b2cd736f41ce1fead6cd4"><td class="memItemLeft" align="right" valign="top"><a id="ae7dd5617219b2cd736f41ce1fead6cd4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>calcMusclePotentialEnergyInfo</b> (const SimTK::State &amp;s, MusclePotentialEnergyInfo &amp;mpei) const override</td></tr>
<tr class="separator:ae7dd5617219b2cd736f41ce1fead6cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Get methods.</h2></td></tr>
<tr class="memitem:a2f5443ec2f7e224d7d8e2a5c51bc53ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a2f5443ec2f7e224d7d8e2a5c51bc53ff">getImplicitEnabledNormalizedTendonForce</a> (const SimTK::State &amp;) const</td></tr>
<tr class="memdesc:a2f5443ec2f7e224d7d8e2a5c51bc53ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">We don't need the state, but the state parameter is a requirement of Output functions.  <a href="#a2f5443ec2f7e224d7d8e2a5c51bc53ff">More...</a><br /></td></tr>
<tr class="separator:a2f5443ec2f7e224d7d8e2a5c51bc53ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0458aea14c0978f34d4a38001475123"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#af0458aea14c0978f34d4a38001475123">getImplicitResidualNormalizedTendonForce</a> (const SimTK::State &amp;s) const</td></tr>
<tr class="memdesc:af0458aea14c0978f34d4a38001475123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the muscle-tendon force equilibrium residual value when using implicit contraction dynamics with normalized tendon force as the state.  <a href="#af0458aea14c0978f34d4a38001475123">More...</a><br /></td></tr>
<tr class="separator:af0458aea14c0978f34d4a38001475123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea030f48cf1707f0eb9885af7e78ee3e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#aea030f48cf1707f0eb9885af7e78ee3e">getNormalizedTendonForce</a> (const SimTK::State &amp;s) const</td></tr>
<tr class="memdesc:aea030f48cf1707f0eb9885af7e78ee3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">If ignore_tendon_compliance is true, this gets normalized fiber force along the tendon instead.  <a href="#aea030f48cf1707f0eb9885af7e78ee3e">More...</a><br /></td></tr>
<tr class="separator:aea030f48cf1707f0eb9885af7e78ee3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28761b7c179670a68be71a5c52420458"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a28761b7c179670a68be71a5c52420458">getNormalizedTendonForceDerivative</a> (const SimTK::State &amp;s) const</td></tr>
<tr class="memdesc:a28761b7c179670a68be71a5c52420458"><td class="mdescLeft">&#160;</td><td class="mdescRight">If integration_mode is 'implicit', this gets the discrete variable tendon force derivative value.  <a href="#a28761b7c179670a68be71a5c52420458">More...</a><br /></td></tr>
<tr class="separator:a28761b7c179670a68be71a5c52420458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d194ccf3143daf8bfc3c857b68bfdbe"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a5d194ccf3143daf8bfc3c857b68bfdbe">getEquilibriumResidual</a> (const SimTK::State &amp;s) const</td></tr>
<tr class="memdesc:a5d194ccf3143daf8bfc3c857b68bfdbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The residual (i.e.  <a href="#a5d194ccf3143daf8bfc3c857b68bfdbe">More...</a><br /></td></tr>
<tr class="separator:a5d194ccf3143daf8bfc3c857b68bfdbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02dbb4b7b2a8057c9c813141f75cc9ad"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a02dbb4b7b2a8057c9c813141f75cc9ad">getLinearizedEquilibriumResidualDerivative</a> (const SimTK::State &amp;s) const</td></tr>
<tr class="memdesc:a02dbb4b7b2a8057c9c813141f75cc9ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">The residual (i.e.  <a href="#a02dbb4b7b2a8057c9c813141f75cc9ad">More...</a><br /></td></tr>
<tr class="separator:a02dbb4b7b2a8057c9c813141f75cc9ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1d6aa1bde757912fb3a6dee6e141ca8"><td class="memItemLeft" align="right" valign="top">SimTK::Vec2&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#ae1d6aa1bde757912fb3a6dee6e141ca8">getBoundsNormalizedTendonForce</a> (const SimTK::State &amp;) const</td></tr>
<tr class="memdesc:ae1d6aa1bde757912fb3a6dee6e141ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The first element of the Vec2 is the lower bound, and the second is the upper bound.  <a href="#ae1d6aa1bde757912fb3a6dee6e141ca8">More...</a><br /></td></tr>
<tr class="separator:ae1d6aa1bde757912fb3a6dee6e141ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefbeaab57ca3a826fad100fea4d4d6b"><td class="memItemLeft" align="right" valign="top"><a id="aeefbeaab57ca3a826fad100fea4d4d6b"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getActivationStateName</b> ()</td></tr>
<tr class="separator:aeefbeaab57ca3a826fad100fea4d4d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d273aab0e648e598499f9b7364f46f"><td class="memItemLeft" align="right" valign="top"><a id="a98d273aab0e648e598499f9b7364f46f"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getNormalizedTendonForceStateName</b> ()</td></tr>
<tr class="separator:a98d273aab0e648e598499f9b7364f46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a0d16f8b992db22289cae3ebde95eb"><td class="memItemLeft" align="right" valign="top"><a id="aa6a0d16f8b992db22289cae3ebde95eb"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getImplicitDynamicsDerivativeName</b> ()</td></tr>
<tr class="separator:aa6a0d16f8b992db22289cae3ebde95eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53fce8757b99c76359b16655586b633"><td class="memItemLeft" align="right" valign="top"><a id="aa53fce8757b99c76359b16655586b633"></a>
static std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getImplicitDynamicsResidualName</b> ()</td></tr>
<tr class="separator:aa53fce8757b99c76359b16655586b633"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864fc6e704dbd0a73270df44f1317550"><td class="memItemLeft" align="right" valign="top"><a id="a864fc6e704dbd0a73270df44f1317550"></a>
static double&#160;</td><td class="memItemRight" valign="bottom"><b>getMinNormalizedTendonForce</b> ()</td></tr>
<tr class="separator:a864fc6e704dbd0a73270df44f1317550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44175e466c38045b436d8b7cb91050b6"><td class="memItemLeft" align="right" valign="top"><a id="a44175e466c38045b436d8b7cb91050b6"></a>
static double&#160;</td><td class="memItemRight" valign="bottom"><b>getMaxNormalizedTendonForce</b> ()</td></tr>
<tr class="separator:a44175e466c38045b436d8b7cb91050b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Calculation methods.</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp84e88c540714568bd4d230e47cd19756"></a>These functions compute the values of normalized/dimensionless curves, their derivatives and integrals, and other quantities of the muscle.</p>
<p>These do not depend on a SimTK::State. </p>
</td></tr>
<tr class="memitem:a218caf94247ec6ab47a0e4ad167a2fdc"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a218caf94247ec6ab47a0e4ad167a2fdc">calcActiveForceLengthMultiplier</a> (const SimTK::Real &amp;normFiberLength) const</td></tr>
<tr class="memdesc:a218caf94247ec6ab47a0e4ad167a2fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The active force-length curve is the sum of 3 Gaussian-like curves.  <a href="#a218caf94247ec6ab47a0e4ad167a2fdc">More...</a><br /></td></tr>
<tr class="separator:a218caf94247ec6ab47a0e4ad167a2fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abacc9dcdc08ab06b5ecc2c30b6880e04"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#abacc9dcdc08ab06b5ecc2c30b6880e04">calcActiveForceLengthMultiplierDerivative</a> (const SimTK::Real &amp;normFiberLength) const</td></tr>
<tr class="memdesc:abacc9dcdc08ab06b5ecc2c30b6880e04"><td class="mdescLeft">&#160;</td><td class="mdescRight">The derivative of the active force-length curve with respect to normalized fiber length.  <a href="#abacc9dcdc08ab06b5ecc2c30b6880e04">More...</a><br /></td></tr>
<tr class="separator:abacc9dcdc08ab06b5ecc2c30b6880e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69405e4f8a1f9cfe48280534a59c5d2e"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a69405e4f8a1f9cfe48280534a59c5d2e">calcPassiveForceMultiplier</a> (const SimTK::Real &amp;normFiberLength) const</td></tr>
<tr class="memdesc:a69405e4f8a1f9cfe48280534a59c5d2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the passive force-length curve.  <a href="#a69405e4f8a1f9cfe48280534a59c5d2e">More...</a><br /></td></tr>
<tr class="separator:a69405e4f8a1f9cfe48280534a59c5d2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11dc1c0b5d51b874fe5925e75badd78"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#af11dc1c0b5d51b874fe5925e75badd78">calcPassiveForceMultiplierDerivative</a> (const SimTK::Real &amp;normFiberLength) const</td></tr>
<tr class="memdesc:af11dc1c0b5d51b874fe5925e75badd78"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the derivative of the passive force-length curve with respect to the normalized fiber length.  <a href="#af11dc1c0b5d51b874fe5925e75badd78">More...</a><br /></td></tr>
<tr class="separator:af11dc1c0b5d51b874fe5925e75badd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8078b887c13c9fb4c17c825f01cdb3ec"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a8078b887c13c9fb4c17c825f01cdb3ec">calcPassiveForceMultiplierIntegral</a> (const SimTK::Real &amp;normFiberLength) const</td></tr>
<tr class="memdesc:a8078b887c13c9fb4c17c825f01cdb3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the integral of the passive force-length curve with respect to the normalized fiber length.  <a href="#a8078b887c13c9fb4c17c825f01cdb3ec">More...</a><br /></td></tr>
<tr class="separator:a8078b887c13c9fb4c17c825f01cdb3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e86d082d6bfba61a9e96a4e69473be6"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a9e86d082d6bfba61a9e96a4e69473be6">calcTendonForceMultiplier</a> (const SimTK::Real &amp;normTendonLength) const</td></tr>
<tr class="memdesc:a9e86d082d6bfba61a9e96a4e69473be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The normalized tendon force as a function of normalized tendon length.  <a href="#a9e86d082d6bfba61a9e96a4e69473be6">More...</a><br /></td></tr>
<tr class="separator:a9e86d082d6bfba61a9e96a4e69473be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ba8780d136bdf1cad684fd83464cb7"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a94ba8780d136bdf1cad684fd83464cb7">calcTendonForceMultiplierDerivative</a> (const SimTK::Real &amp;normTendonLength) const</td></tr>
<tr class="memdesc:a94ba8780d136bdf1cad684fd83464cb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the derivative of the tendon-force length curve with respect to normalized tendon length.  <a href="#a94ba8780d136bdf1cad684fd83464cb7">More...</a><br /></td></tr>
<tr class="separator:a94ba8780d136bdf1cad684fd83464cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a9f870ad6cb0d213fb06836af17f95"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#af5a9f870ad6cb0d213fb06836af17f95">calcTendonForceMultiplierIntegral</a> (const SimTK::Real &amp;normTendonLength) const</td></tr>
<tr class="memdesc:af5a9f870ad6cb0d213fb06836af17f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the integral of the tendon-force length curve with respect to normalized tendon length.  <a href="#af5a9f870ad6cb0d213fb06836af17f95">More...</a><br /></td></tr>
<tr class="separator:af5a9f870ad6cb0d213fb06836af17f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb6b875abaf3bc75fb221cb9034fdfd"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a7fb6b875abaf3bc75fb221cb9034fdfd">calcTendonForceLengthInverseCurve</a> (const SimTK::Real &amp;normTendonForce) const</td></tr>
<tr class="memdesc:a7fb6b875abaf3bc75fb221cb9034fdfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the inverse of the tendon force-length curve, and returns the normalized tendon length as a function of the normalized tendon force.  <a href="#a7fb6b875abaf3bc75fb221cb9034fdfd">More...</a><br /></td></tr>
<tr class="separator:a7fb6b875abaf3bc75fb221cb9034fdfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafc95ae768a728b4ab684059465352b5"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#aafc95ae768a728b4ab684059465352b5">calcTendonForceLengthInverseCurveDerivative</a> (const SimTK::Real &amp;derivNormTendonForce, const SimTK::Real &amp;normTendonLength) const</td></tr>
<tr class="memdesc:aafc95ae768a728b4ab684059465352b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the derivative of the inverse tendon-force length.  <a href="#aafc95ae768a728b4ab684059465352b5">More...</a><br /></td></tr>
<tr class="separator:aafc95ae768a728b4ab684059465352b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28637994354d76f021d730d0c7021a50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a28637994354d76f021d730d0c7021a50">calcFiberForce</a> (const SimTK::Real &amp;activation, const SimTK::Real &amp;activeForceLengthMultiplier, const SimTK::Real &amp;forceVelocityMultiplier, const SimTK::Real &amp;normPassiveFiberForce, const SimTK::Real &amp;normFiberVelocity, SimTK::Real &amp;activeFiberForce, SimTK::Real &amp;conPassiveFiberForce, SimTK::Real &amp;nonConPassiveFiberForce, SimTK::Real &amp;totalFiberForce) const</td></tr>
<tr class="memdesc:a28637994354d76f021d730d0c7021a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">This computes both the total fiber force and the individual components of fiber force (active, conservative passive, and non-conservative passive).  <a href="#a28637994354d76f021d730d0c7021a50">More...</a><br /></td></tr>
<tr class="separator:a28637994354d76f021d730d0c7021a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da6eac3824514406e3da6c582eca99c"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a2da6eac3824514406e3da6c582eca99c">calcFiberStiffness</a> (const SimTK::Real &amp;activation, const SimTK::Real &amp;normFiberLength, const SimTK::Real &amp;fiberVelocityMultiplier) const</td></tr>
<tr class="memdesc:a2da6eac3824514406e3da6c582eca99c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The stiffness of the fiber in the direction of the fiber.  <a href="#a2da6eac3824514406e3da6c582eca99c">More...</a><br /></td></tr>
<tr class="separator:a2da6eac3824514406e3da6c582eca99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06fa5bb10beb2104b7957486acaa1bcc"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a06fa5bb10beb2104b7957486acaa1bcc">calcTendonStiffness</a> (const SimTK::Real &amp;normTendonLength) const</td></tr>
<tr class="memdesc:a06fa5bb10beb2104b7957486acaa1bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The stiffness of the tendon in the direction of the tendon.  <a href="#a06fa5bb10beb2104b7957486acaa1bcc">More...</a><br /></td></tr>
<tr class="separator:a06fa5bb10beb2104b7957486acaa1bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae891979ffa9f93e75d84ffc59daec771"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#ae891979ffa9f93e75d84ffc59daec771">calcMuscleStiffness</a> (const SimTK::Real &amp;tendonStiffness, const SimTK::Real &amp;fiberStiffnessAlongTendon) const</td></tr>
<tr class="memdesc:ae891979ffa9f93e75d84ffc59daec771"><td class="mdescLeft">&#160;</td><td class="mdescRight">The stiffness of the whole musculotendon unit in the direction of the tendon.  <a href="#ae891979ffa9f93e75d84ffc59daec771">More...</a><br /></td></tr>
<tr class="separator:ae891979ffa9f93e75d84ffc59daec771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83102d4249563cfa8f8efbf1922ea001"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a83102d4249563cfa8f8efbf1922ea001">calcPartialPennationAnglePartialFiberLength</a> (const SimTK::Real &amp;fiberLength) const</td></tr>
<tr class="memdesc:a83102d4249563cfa8f8efbf1922ea001"><td class="mdescLeft">&#160;</td><td class="mdescRight">The derivative of pennation angle with respect to fiber length.  <a href="#a83102d4249563cfa8f8efbf1922ea001">More...</a><br /></td></tr>
<tr class="separator:a83102d4249563cfa8f8efbf1922ea001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ffdfc306acfb744fee145feec7bf433"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a2ffdfc306acfb744fee145feec7bf433">calcPartialFiberForceAlongTendonPartialFiberLength</a> (const SimTK::Real &amp;fiberForce, const SimTK::Real &amp;fiberStiffness, const SimTK::Real &amp;sinPennationAngle, const SimTK::Real &amp;cosPennationAngle, const SimTK::Real &amp;partialPennationAnglePartialFiberLength) const</td></tr>
<tr class="memdesc:a2ffdfc306acfb744fee145feec7bf433"><td class="mdescLeft">&#160;</td><td class="mdescRight">The derivative of the fiber force along the tendon with respect to fiber length.  <a href="#a2ffdfc306acfb744fee145feec7bf433">More...</a><br /></td></tr>
<tr class="separator:a2ffdfc306acfb744fee145feec7bf433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915ad0a7c3d61bdbd2e83a56571a95dc"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a915ad0a7c3d61bdbd2e83a56571a95dc">calcFiberStiffnessAlongTendon</a> (const SimTK::Real &amp;fiberLength, const SimTK::Real &amp;partialFiberForceAlongTendonPartialFiberLength, const SimTK::Real &amp;sinPennationAngle, const SimTK::Real &amp;cosPennationAngle, const SimTK::Real &amp;partialPennationAnglePartialFiberLength) const</td></tr>
<tr class="memdesc:a915ad0a7c3d61bdbd2e83a56571a95dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The derivative of the fiber force along the tendon with respect to the fiber length along the tendon.  <a href="#a915ad0a7c3d61bdbd2e83a56571a95dc">More...</a><br /></td></tr>
<tr class="separator:a915ad0a7c3d61bdbd2e83a56571a95dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3118ad28d09746204373ae26068f5102"><td class="memItemLeft" align="right" valign="top"><a id="a3118ad28d09746204373ae26068f5102"></a>
SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><b>calcPartialTendonLengthPartialFiberLength</b> (const SimTK::Real &amp;fiberLength, const SimTK::Real &amp;sinPennationAngle, const SimTK::Real &amp;cosPennationAngle, const SimTK::Real &amp;partialPennationAnglePartialFiberLength) const</td></tr>
<tr class="separator:a3118ad28d09746204373ae26068f5102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d599f169e2babd7b619d7c7d6204bd"><td class="memItemLeft" align="right" valign="top"><a id="ae2d599f169e2babd7b619d7c7d6204bd"></a>
SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><b>calcPartialTendonForcePartialFiberLength</b> (const SimTK::Real &amp;tendonStiffness, const SimTK::Real &amp;fiberLength, const SimTK::Real &amp;sinPennationAngle, const SimTK::Real &amp;cosPennationAngle) const</td></tr>
<tr class="separator:ae2d599f169e2babd7b619d7c7d6204bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47af34e21c1ea32bb9ced618d3c17fbe"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a47af34e21c1ea32bb9ced618d3c17fbe">calcEquilibriumResidual</a> (const SimTK::Real &amp;tendonForce, const SimTK::Real &amp;fiberForceAlongTendon) const</td></tr>
<tr class="memdesc:a47af34e21c1ea32bb9ced618d3c17fbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">The residual (i.e.  <a href="#a47af34e21c1ea32bb9ced618d3c17fbe">More...</a><br /></td></tr>
<tr class="separator:a47af34e21c1ea32bb9ced618d3c17fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2646df9a028644260e5e7dc3058c96c3"><td class="memItemLeft" align="right" valign="top">SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a2646df9a028644260e5e7dc3058c96c3">calcLinearizedEquilibriumResidualDerivative</a> (const SimTK::Real muscleTendonVelocity, const SimTK::Real &amp;fiberVelocityAlongTendon, const SimTK::Real &amp;tendonStiffness, const SimTK::Real &amp;fiberStiffnessAlongTendon) const</td></tr>
<tr class="memdesc:a2646df9a028644260e5e7dc3058c96c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The residual (i.e.  <a href="#a2646df9a028644260e5e7dc3058c96c3">More...</a><br /></td></tr>
<tr class="separator:a2646df9a028644260e5e7dc3058c96c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdca5d2f8d53980d4fb9ef416b2b9f7d"><td class="memItemLeft" align="right" valign="top">static SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#abdca5d2f8d53980d4fb9ef416b2b9f7d">calcForceVelocityMultiplier</a> (const SimTK::Real &amp;normFiberVelocity)</td></tr>
<tr class="memdesc:abdca5d2f8d53980d4fb9ef416b2b9f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The parameters of this curve are not modifiable, so this function is static.  <a href="#abdca5d2f8d53980d4fb9ef416b2b9f7d">More...</a><br /></td></tr>
<tr class="separator:abdca5d2f8d53980d4fb9ef416b2b9f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3053fd9b83835e108919856effbdd68"><td class="memItemLeft" align="right" valign="top">static SimTK::Real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#ac3053fd9b83835e108919856effbdd68">calcForceVelocityInverseCurve</a> (const SimTK::Real &amp;forceVelocityMult)</td></tr>
<tr class="memdesc:ac3053fd9b83835e108919856effbdd68"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the inverse of the force-velocity multiplier function, and returns the normalized fiber velocity (in [-1, 1]) as a function of the force-velocity multiplier.  <a href="#ac3053fd9b83835e108919856effbdd68">More...</a><br /></td></tr>
<tr class="separator:ac3053fd9b83835e108919856effbdd68"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Utilities</h2></td></tr>
<tr class="memitem:ac5714b2976b889189200752dde038f95"><td class="memItemLeft" align="right" valign="top">DataTable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#ac5714b2976b889189200752dde038f95">exportFiberLengthCurvesToTable</a> (const SimTK::Vector &amp;normFiberLengths=SimTK::Vector()) const</td></tr>
<tr class="memdesc:ac5714b2976b889189200752dde038f95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the active force-length multiplier and passive force multiplier curves to a DataTable.  <a href="#ac5714b2976b889189200752dde038f95">More...</a><br /></td></tr>
<tr class="separator:ac5714b2976b889189200752dde038f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83142e0944ad0d35cb4a03049a535a85"><td class="memItemLeft" align="right" valign="top">DataTable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a83142e0944ad0d35cb4a03049a535a85">exportFiberVelocityMultiplierToTable</a> (const SimTK::Vector &amp;normFiberVelocities=SimTK::Vector()) const</td></tr>
<tr class="memdesc:a83142e0944ad0d35cb4a03049a535a85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the fiber force-velocity multiplier curve to a DataTable.  <a href="#a83142e0944ad0d35cb4a03049a535a85">More...</a><br /></td></tr>
<tr class="separator:a83142e0944ad0d35cb4a03049a535a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b597c55fb6b6d57a8d45004dbbf197"><td class="memItemLeft" align="right" valign="top">DataTable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a63b597c55fb6b6d57a8d45004dbbf197">exportTendonForceMultiplierToTable</a> (const SimTK::Vector &amp;normTendonLengths=SimTK::Vector()) const</td></tr>
<tr class="memdesc:a63b597c55fb6b6d57a8d45004dbbf197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export the fiber tendon force multiplier curve to a DataTable.  <a href="#a63b597c55fb6b6d57a8d45004dbbf197">More...</a><br /></td></tr>
<tr class="separator:a63b597c55fb6b6d57a8d45004dbbf197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5eb2bac2b4eb42731c6a240c3f5774"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a6f5eb2bac2b4eb42731c6a240c3f5774">printCurvesToSTOFiles</a> (const std::string &amp;directory=&quot;.&quot;) const</td></tr>
<tr class="memdesc:a6f5eb2bac2b4eb42731c6a240c3f5774"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the muscle curves to STO files.  <a href="#a6f5eb2bac2b4eb42731c6a240c3f5774">More...</a><br /></td></tr>
<tr class="separator:a6f5eb2bac2b4eb42731c6a240c3f5774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af728fc5ada2e3813ba150cc127e80805"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#af728fc5ada2e3813ba150cc127e80805">replaceMuscles</a> (Model &amp;model, bool allowUnsupportedMuscles=false)</td></tr>
<tr class="memdesc:af728fc5ada2e3813ba150cc127e80805"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace muscles of other types in the model with muscles of this type.  <a href="#af728fc5ada2e3813ba150cc127e80805">More...</a><br /></td></tr>
<tr class="separator:af728fc5ada2e3813ba150cc127e80805"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a218caf94247ec6ab47a0e4ad167a2fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a218caf94247ec6ab47a0e4ad167a2fdc">&#9670;&nbsp;</a></span>calcActiveForceLengthMultiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcActiveForceLengthMultiplier </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The active force-length curve is the sum of 3 Gaussian-like curves. </p>
<p>The width of the curve can be adjusted via the active_force_width_scale property. </p>

</div>
</div>
<a id="abacc9dcdc08ab06b5ecc2c30b6880e04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abacc9dcdc08ab06b5ecc2c30b6880e04">&#9670;&nbsp;</a></span>calcActiveForceLengthMultiplierDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcActiveForceLengthMultiplierDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The derivative of the active force-length curve with respect to normalized fiber length. </p>
<p>This curve is based on the derivative of the Gaussian-like curve used in <a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html#a218caf94247ec6ab47a0e4ad167a2fdc" title="The active force-length curve is the sum of 3 Gaussian-like curves. ">calcActiveForceLengthMultiplier()</a>. The active_force_width_scale property also affects the value of the derivative curve. </p>

</div>
</div>
<a id="a47af34e21c1ea32bb9ced618d3c17fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47af34e21c1ea32bb9ced618d3c17fbe">&#9670;&nbsp;</a></span>calcEquilibriumResidual()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcEquilibriumResidual </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>tendonForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberForceAlongTendon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The residual (i.e. </p>
<p>error) in the muscle-tendon equilibrium equation: residual = tendonForce - fiberForce * cosPennationAngle </p>

</div>
</div>
<a id="a28637994354d76f021d730d0c7021a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28637994354d76f021d730d0c7021a50">&#9670;&nbsp;</a></span>calcFiberForce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::DeGrooteFregly2016Muscle::calcFiberForce </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>activation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>activeForceLengthMultiplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>forceVelocityMultiplier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normPassiveFiberForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>activeFiberForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>conPassiveFiberForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>nonConPassiveFiberForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>totalFiberForce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This computes both the total fiber force and the individual components of fiber force (active, conservative passive, and non-conservative passive). </p>
<dl class="section note"><dt>Note</dt><dd>based on Millard2012EquilibriumMuscle::calcFiberForce(). </dd></dl>

</div>
</div>
<a id="a2da6eac3824514406e3da6c582eca99c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2da6eac3824514406e3da6c582eca99c">&#9670;&nbsp;</a></span>calcFiberStiffness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcFiberStiffness </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>activation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberVelocityMultiplier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The stiffness of the fiber in the direction of the fiber. </p>
<p>This includes both active and passive force contributions to stiffness from the muscle fiber. </p><dl class="section note"><dt>Note</dt><dd>based on Millard2012EquilibriumMuscle::calcFiberStiffness(). </dd></dl>

</div>
</div>
<a id="a915ad0a7c3d61bdbd2e83a56571a95dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a915ad0a7c3d61bdbd2e83a56571a95dc">&#9670;&nbsp;</a></span>calcFiberStiffnessAlongTendon()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcFiberStiffnessAlongTendon </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>partialFiberForceAlongTendonPartialFiberLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>sinPennationAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>cosPennationAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>partialPennationAnglePartialFiberLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The derivative of the fiber force along the tendon with respect to the fiber length along the tendon. </p>
<dl class="section note"><dt>Note</dt><dd>based on Millard2012EquilibriumMuscle::calc_DFiberForceAT_DFiberLengthAT. </dd></dl>

</div>
</div>
<a id="ac3053fd9b83835e108919856effbdd68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3053fd9b83835e108919856effbdd68">&#9670;&nbsp;</a></span>calcForceVelocityInverseCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcForceVelocityInverseCurve </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>forceVelocityMult</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the inverse of the force-velocity multiplier function, and returns the normalized fiber velocity (in [-1, 1]) as a function of the force-velocity multiplier. </p>

</div>
</div>
<a id="abdca5d2f8d53980d4fb9ef416b2b9f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdca5d2f8d53980d4fb9ef416b2b9f7d">&#9670;&nbsp;</a></span>calcForceVelocityMultiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcForceVelocityMultiplier </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberVelocity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The parameters of this curve are not modifiable, so this function is static. </p>
<p>Domain: [-1, 1] Range: [0, 1.794] </p>

</div>
</div>
<a id="a2646df9a028644260e5e7dc3058c96c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2646df9a028644260e5e7dc3058c96c3">&#9670;&nbsp;</a></span>calcLinearizedEquilibriumResidualDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcLinearizedEquilibriumResidualDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real&#160;</td>
          <td class="paramname"><em>muscleTendonVelocity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberVelocityAlongTendon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>tendonStiffness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberStiffnessAlongTendon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The residual (i.e. </p>
<p>error) in the time derivative of the linearized muscle-tendon equilibrium equation (Millard et al. 2013, equation A6): residual = fiberStiffnessAlongTendon * fiberVelocityAlongTendon - tendonStiffness * (muscleTendonVelocity - fiberVelocityAlongTendon) </p>

</div>
</div>
<a id="ae891979ffa9f93e75d84ffc59daec771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae891979ffa9f93e75d84ffc59daec771">&#9670;&nbsp;</a></span>calcMuscleStiffness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcMuscleStiffness </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>tendonStiffness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberStiffnessAlongTendon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The stiffness of the whole musculotendon unit in the direction of the tendon. </p>
<dl class="section note"><dt>Note</dt><dd>based on Millard2012EquilibriumMuscle. </dd></dl>

</div>
</div>
<a id="a2ffdfc306acfb744fee145feec7bf433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ffdfc306acfb744fee145feec7bf433">&#9670;&nbsp;</a></span>calcPartialFiberForceAlongTendonPartialFiberLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcPartialFiberForceAlongTendonPartialFiberLength </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberStiffness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>sinPennationAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>cosPennationAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>partialPennationAnglePartialFiberLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The derivative of the fiber force along the tendon with respect to fiber length. </p>
<dl class="section note"><dt>Note</dt><dd>based on Millard2012EquilibriumMuscle::calc_DFiberForceAT_DFiberLength(). </dd></dl>

</div>
</div>
<a id="a83102d4249563cfa8f8efbf1922ea001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83102d4249563cfa8f8efbf1922ea001">&#9670;&nbsp;</a></span>calcPartialPennationAnglePartialFiberLength()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcPartialPennationAnglePartialFiberLength </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>fiberLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The derivative of pennation angle with respect to fiber length. </p>
<dl class="section note"><dt>Note</dt><dd>based on MuscleFixedWidthPennationModel::calc_DPennationAngle_DFiberLength(). </dd></dl>

</div>
</div>
<a id="a69405e4f8a1f9cfe48280534a59c5d2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69405e4f8a1f9cfe48280534a59c5d2e">&#9670;&nbsp;</a></span>calcPassiveForceMultiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcPassiveForceMultiplier </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the passive force-length curve. </p>
<p>The curve becomes negative below the minNormFiberLength.</p>
<p>We modified this equation from that in the supplementary materials of De Groote et al., 2016, which is the same function used in Thelen2003Muscle. The version in the supplementary materials passes through y = 0 at x = 1.0 and allows for negative forces. We do not want negative forces within the allowed range of fiber lengths, so we modified the equation to pass through y = 0 at x = 0.2. (This is not an issue for Thelen2003Muscle because the curve is not smooth, and returns 0 for lengths less than optimal fiber length.) </p>

</div>
</div>
<a id="af11dc1c0b5d51b874fe5925e75badd78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11dc1c0b5d51b874fe5925e75badd78">&#9670;&nbsp;</a></span>calcPassiveForceMultiplierDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcPassiveForceMultiplierDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the derivative of the passive force-length curve with respect to the normalized fiber length. </p>

</div>
</div>
<a id="a8078b887c13c9fb4c17c825f01cdb3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8078b887c13c9fb4c17c825f01cdb3ec">&#9670;&nbsp;</a></span>calcPassiveForceMultiplierIntegral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcPassiveForceMultiplierIntegral </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normFiberLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the integral of the passive force-length curve with respect to the normalized fiber length. </p>

</div>
</div>
<a id="a7fb6b875abaf3bc75fb221cb9034fdfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb6b875abaf3bc75fb221cb9034fdfd">&#9670;&nbsp;</a></span>calcTendonForceLengthInverseCurve()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcTendonForceLengthInverseCurve </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normTendonForce</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the inverse of the tendon force-length curve, and returns the normalized tendon length as a function of the normalized tendon force. </p>

</div>
</div>
<a id="aafc95ae768a728b4ab684059465352b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafc95ae768a728b4ab684059465352b5">&#9670;&nbsp;</a></span>calcTendonForceLengthInverseCurveDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcTendonForceLengthInverseCurveDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>derivNormTendonForce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normTendonLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the derivative of the inverse tendon-force length. </p>
<p>Given the derivative of normalized tendon force and normalized tendon length, this returns normalized tendon velocity. </p>

</div>
</div>
<a id="a9e86d082d6bfba61a9e96a4e69473be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e86d082d6bfba61a9e96a4e69473be6">&#9670;&nbsp;</a></span>calcTendonForceMultiplier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcTendonForceMultiplier </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normTendonLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The normalized tendon force as a function of normalized tendon length. </p>
<p>Note that this curve does not go through (1, 0); when normTendonLength=1, this function returns a slightly negative number. </p>

</div>
</div>
<a id="a94ba8780d136bdf1cad684fd83464cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94ba8780d136bdf1cad684fd83464cb7">&#9670;&nbsp;</a></span>calcTendonForceMultiplierDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcTendonForceMultiplierDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normTendonLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the derivative of the tendon-force length curve with respect to normalized tendon length. </p>

</div>
</div>
<a id="af5a9f870ad6cb0d213fb06836af17f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5a9f870ad6cb0d213fb06836af17f95">&#9670;&nbsp;</a></span>calcTendonForceMultiplierIntegral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcTendonForceMultiplierIntegral </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normTendonLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the integral of the tendon-force length curve with respect to normalized tendon length. </p>

</div>
</div>
<a id="a06fa5bb10beb2104b7957486acaa1bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06fa5bb10beb2104b7957486acaa1bcc">&#9670;&nbsp;</a></span>calcTendonStiffness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Real OpenSim::DeGrooteFregly2016Muscle::calcTendonStiffness </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Real &amp;&#160;</td>
          <td class="paramname"><em>normTendonLength</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The stiffness of the tendon in the direction of the tendon. </p>
<dl class="section note"><dt>Note</dt><dd>based on Millard2012EquilibriumMuscle. </dd></dl>

</div>
</div>
<a id="ac5714b2976b889189200752dde038f95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5714b2976b889189200752dde038f95">&#9670;&nbsp;</a></span>exportFiberLengthCurvesToTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataTable OpenSim::DeGrooteFregly2016Muscle::exportFiberLengthCurvesToTable </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Vector &amp;&#160;</td>
          <td class="paramname"><em>normFiberLengths</em> = <code>SimTK::Vector()</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the active force-length multiplier and passive force multiplier curves to a DataTable. </p>
<p>If the normFiberLengths argument is omitted, we use createVectorLinspace(200, minNormFiberLength, maxNormFiberLength). </p>

</div>
</div>
<a id="a83142e0944ad0d35cb4a03049a535a85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83142e0944ad0d35cb4a03049a535a85">&#9670;&nbsp;</a></span>exportFiberVelocityMultiplierToTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataTable OpenSim::DeGrooteFregly2016Muscle::exportFiberVelocityMultiplierToTable </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Vector &amp;&#160;</td>
          <td class="paramname"><em>normFiberVelocities</em> = <code>SimTK::Vector()</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the fiber force-velocity multiplier curve to a DataTable. </p>
<p>If the normFiberVelocities argument is omitted, we use createVectorLinspace(200, -1.1, 1.1). </p>

</div>
</div>
<a id="a63b597c55fb6b6d57a8d45004dbbf197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b597c55fb6b6d57a8d45004dbbf197">&#9670;&nbsp;</a></span>exportTendonForceMultiplierToTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DataTable OpenSim::DeGrooteFregly2016Muscle::exportTendonForceMultiplierToTable </td>
          <td>(</td>
          <td class="paramtype">const SimTK::Vector &amp;&#160;</td>
          <td class="paramname"><em>normTendonLengths</em> = <code>SimTK::Vector()</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export the fiber tendon force multiplier curve to a DataTable. </p>
<p>If the normFiberVelocities argument is omitted, we use createVectorLinspace(200, 0.95, 1 + &lt;strain at 1 norm force&gt;) </p>

</div>
</div>
<a id="ae1d6aa1bde757912fb3a6dee6e141ca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1d6aa1bde757912fb3a6dee6e141ca8">&#9670;&nbsp;</a></span>getBoundsNormalizedTendonForce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SimTK::Vec2 OpenSim::DeGrooteFregly2016Muscle::getBoundsNormalizedTendonForce </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The first element of the Vec2 is the lower bound, and the second is the upper bound. </p>
<p>We don't need the state, but the state parameter is a requirement of Output functions. </p>

</div>
</div>
<a id="a5d194ccf3143daf8bfc3c857b68bfdbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d194ccf3143daf8bfc3c857b68bfdbe">&#9670;&nbsp;</a></span>getEquilibriumResidual()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double OpenSim::DeGrooteFregly2016Muscle::getEquilibriumResidual </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The residual (i.e. </p>
<p>error) in the muscle-tendon equilibrium equation: residual = tendonForce - fiberForce * cosPennationAngle </p>

</div>
</div>
<a id="a2f5443ec2f7e224d7d8e2a5c51bc53ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5443ec2f7e224d7d8e2a5c51bc53ff">&#9670;&nbsp;</a></span>getImplicitEnabledNormalizedTendonForce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool OpenSim::DeGrooteFregly2016Muscle::getImplicitEnabledNormalizedTendonForce </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We don't need the state, but the state parameter is a requirement of Output functions. </p>

</div>
</div>
<a id="af0458aea14c0978f34d4a38001475123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0458aea14c0978f34d4a38001475123">&#9670;&nbsp;</a></span>getImplicitResidualNormalizedTendonForce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double OpenSim::DeGrooteFregly2016Muscle::getImplicitResidualNormalizedTendonForce </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the muscle-tendon force equilibrium residual value when using implicit contraction dynamics with normalized tendon force as the state. </p>

</div>
</div>
<a id="a02dbb4b7b2a8057c9c813141f75cc9ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02dbb4b7b2a8057c9c813141f75cc9ad">&#9670;&nbsp;</a></span>getLinearizedEquilibriumResidualDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double OpenSim::DeGrooteFregly2016Muscle::getLinearizedEquilibriumResidualDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The residual (i.e. </p>
<p>error) in the time derivative of the linearized muscle-tendon equilibrium equation (Millard et al. 2013, equation A6): residual = fiberStiffnessAlongTendon * fiberVelocityAlongTendon - tendonStiffness * (muscleTendonVelocity - fiberVelocityAlongTendon) </p>

</div>
</div>
<a id="aea030f48cf1707f0eb9885af7e78ee3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea030f48cf1707f0eb9885af7e78ee3e">&#9670;&nbsp;</a></span>getNormalizedTendonForce()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double OpenSim::DeGrooteFregly2016Muscle::getNormalizedTendonForce </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If ignore_tendon_compliance is true, this gets normalized fiber force along the tendon instead. </p>

</div>
</div>
<a id="a28761b7c179670a68be71a5c52420458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28761b7c179670a68be71a5c52420458">&#9670;&nbsp;</a></span>getNormalizedTendonForceDerivative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double OpenSim::DeGrooteFregly2016Muscle::getNormalizedTendonForceDerivative </td>
          <td>(</td>
          <td class="paramtype">const SimTK::State &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If integration_mode is 'implicit', this gets the discrete variable tendon force derivative value. </p>
<p>If integration_mode is 'explicit', this gets the value returned by getStateVariableDerivativeValue() for the 'normalized_tendon_force' state. If ignore_tendon_compliance is false, this returns zero. </p>

</div>
</div>
<a id="a6f5eb2bac2b4eb42731c6a240c3f5774"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5eb2bac2b4eb42731c6a240c3f5774">&#9670;&nbsp;</a></span>printCurvesToSTOFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OpenSim::DeGrooteFregly2016Muscle::printCurvesToSTOFiles </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>directory</em> = <code>&quot;.&quot;</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the muscle curves to STO files. </p>
<p>The files will be named as <code>&lt;muscle-name&gt;_&lt;curve_type&gt;.sto</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">directory</td><td>The directory to which the data files should be written. Do NOT include the filename. By default, the files are printed to the current working directory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af728fc5ada2e3813ba150cc127e80805"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af728fc5ada2e3813ba150cc127e80805">&#9670;&nbsp;</a></span>replaceMuscles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OpenSim::DeGrooteFregly2016Muscle::replaceMuscles </td>
          <td>(</td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allowUnsupportedMuscles</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace muscles of other types in the model with muscles of this type. </p>
<p>Currently, only Millard2012EquilibriumMuscles and Thelen2003Muscles are replaced. If the model has muscles of other types, an exception is thrown unless allowUnsupportedMuscles is true. Since the <a class="el" href="class_open_sim_1_1_de_groote_fregly2016_muscle.html" title="This muscle model was published in De Groote et al. ">DeGrooteFregly2016Muscle</a> implements tendon compliance dynamics with normalized tendon force as the state variable, this function ignores the 'default_fiber_length' property in replaced muscles. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_de_groote_fregly2016_muscle_8h_source.html">DeGrooteFregly2016Muscle.h</a></li>
</ul>
</div><!-- contents -->
</body>
</html>
