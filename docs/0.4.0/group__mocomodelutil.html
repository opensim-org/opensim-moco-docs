<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenSim Moco: Model and trajectory utilities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen-style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenSim Moco
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Model and trajectory utilities</div>  </div>
</div><!--header-->
<div class="contents">

<p>These are utilities for visualizing model, editing a <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a>, and more.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2088a2424cbb90feb91a326d047adcbb"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga2088a2424cbb90feb91a326d047adcbb">OpenSim::visualize</a> (Model, Storage)</td></tr>
<tr class="memdesc:ga2088a2424cbb90feb91a326d047adcbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play back a motion (from the Storage) in the simbody-visuailzer.  <a href="group__mocomodelutil.html#ga2088a2424cbb90feb91a326d047adcbb">More...</a><br /></td></tr>
<tr class="separator:ga2088a2424cbb90feb91a326d047adcbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b0b10825c2e3cbf07a35110f81f11b9"><td class="memItemLeft" align="right" valign="top"><a id="ga3b0b10825c2e3cbf07a35110f81f11b9"></a>
OSIMMOCO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga3b0b10825c2e3cbf07a35110f81f11b9">OpenSim::visualize</a> (Model, TimeSeriesTable)</td></tr>
<tr class="memdesc:ga3b0b10825c2e3cbf07a35110f81f11b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is the same as <a class="el" href="group__mocomodelutil.html#ga2088a2424cbb90feb91a326d047adcbb" title="Play back a motion (from the Storage) in the simbody-visuailzer. ">visualize(Model, Storage)</a>, except that the states are provided in a TimeSeriesTable. <br /></td></tr>
<tr class="separator:ga3b0b10825c2e3cbf07a35110f81f11b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b066e96aa2b55b014a54547309f9648"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ga9b066e96aa2b55b014a54547309f9648"><td class="memTemplItemLeft" align="right" valign="top">TimeSeriesTable_&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga9b066e96aa2b55b014a54547309f9648">OpenSim::analyze</a> (Model model, const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;trajectory, std::vector&lt; std::string &gt; outputPaths)</td></tr>
<tr class="memdesc:ga9b066e96aa2b55b014a54547309f9648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the requested outputs using the model in the problem and the states and controls in the <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a>.  <a href="group__mocomodelutil.html#ga9b066e96aa2b55b014a54547309f9648">More...</a><br /></td></tr>
<tr class="separator:ga9b066e96aa2b55b014a54547309f9648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a5e23c1b04a1ceed9643401d84faf0d"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga8a5e23c1b04a1ceed9643401d84faf0d">OpenSim::prescribeControlsToModel</a> (const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;trajectory, Model &amp;model, std::string functionType=&quot;GCVSpline&quot;)</td></tr>
<tr class="memdesc:ga8a5e23c1b04a1ceed9643401d84faf0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a> and the associated <a class="el" href="namespace_open_sim.html" title="The utilities in this file are categorized as follows: ">OpenSim</a> model, return the model with a prescribed controller appended that will compute the control values from the <a class="el" href="class_open_sim_1_1_moco_solution.html" title="Return type for MocoStudy::solve(). ">MocoSolution</a>.  <a href="group__mocomodelutil.html#ga8a5e23c1b04a1ceed9643401d84faf0d">More...</a><br /></td></tr>
<tr class="separator:ga8a5e23c1b04a1ceed9643401d84faf0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad97da724511385e65032f6fb9573abe5"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gad97da724511385e65032f6fb9573abe5">OpenSim::simulateTrajectoryWithTimeStepping</a> (const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;trajectory, Model model, double integratorAccuracy=-1)</td></tr>
<tr class="memdesc:gad97da724511385e65032f6fb9573abe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the controls and initial state in the provided trajectory to simulate the model using an ODE time stepping integrator (OpenSim::Manager), and return the resulting states and controls.  <a href="group__mocomodelutil.html#gad97da724511385e65032f6fb9573abe5">More...</a><br /></td></tr>
<tr class="separator:gad97da724511385e65032f6fb9573abe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1045cb61806f23d170ebf40a1b107ee3"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga1045cb61806f23d170ebf40a1b107ee3">OpenSim::createStateVariableNamesInSystemOrder</a> (const Model &amp;model)</td></tr>
<tr class="memdesc:ga1045cb61806f23d170ebf40a1b107ee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map provides the index of each state variable in SimTK::State::getY() from its each state variable path string.  <a href="group__mocomodelutil.html#ga1045cb61806f23d170ebf40a1b107ee3">More...</a><br /></td></tr>
<tr class="separator:ga1045cb61806f23d170ebf40a1b107ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab870f25b5f946f89a5df60dcb6117665"><td class="memItemLeft" align="right" valign="top"><a id="gab870f25b5f946f89a5df60dcb6117665"></a>
OSIMMOCO_API std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gab870f25b5f946f89a5df60dcb6117665">OpenSim::createStateVariableNamesInSystemOrder</a> (const Model &amp;model, std::unordered_map&lt; int, int &gt; &amp;yIndexMap)</td></tr>
<tr class="memdesc:gab870f25b5f946f89a5df60dcb6117665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as above, but you can obtain a map from the returned state variable names to the index in SimTK::State::getY() that accounts for empty slots in Y. <br /></td></tr>
<tr class="separator:gab870f25b5f946f89a5df60dcb6117665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada21b7233f4d453b13086612c60cbe36"><td class="memItemLeft" align="right" valign="top"><a id="gada21b7233f4d453b13086612c60cbe36"></a>
OSIMMOCO_API std::unordered_map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gada21b7233f4d453b13086612c60cbe36">OpenSim::createSystemYIndexMap</a> (const Model &amp;model)</td></tr>
<tr class="memdesc:gada21b7233f4d453b13086612c60cbe36"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map provides the index of each state variable in SimTK::State::getY() from its state variable path string. <br /></td></tr>
<tr class="separator:gada21b7233f4d453b13086612c60cbe36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b1a9aa9f611068ee70b20792b9a44de"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga4b1a9aa9f611068ee70b20792b9a44de">OpenSim::createControlNamesFromModel</a> (const Model &amp;model, std::vector&lt; int &gt; &amp;modelControlIndices)</td></tr>
<tr class="memdesc:ga4b1a9aa9f611068ee70b20792b9a44de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a vector of control names based on the actuators in the model for which appliesForce == True.  <a href="group__mocomodelutil.html#ga4b1a9aa9f611068ee70b20792b9a44de">More...</a><br /></td></tr>
<tr class="separator:ga4b1a9aa9f611068ee70b20792b9a44de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96c3e113418859a47b7487ad742784f9"><td class="memItemLeft" align="right" valign="top"><a id="ga96c3e113418859a47b7487ad742784f9"></a>
OSIMMOCO_API std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga96c3e113418859a47b7487ad742784f9">OpenSim::createControlNamesFromModel</a> (const Model &amp;model)</td></tr>
<tr class="memdesc:ga96c3e113418859a47b7487ad742784f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as above, but when there is no mapping to the modelControlIndices. <br /></td></tr>
<tr class="separator:ga96c3e113418859a47b7487ad742784f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b8f02f12bea688291032dbe052311d6"><td class="memItemLeft" align="right" valign="top"><a id="ga3b8f02f12bea688291032dbe052311d6"></a>
OSIMMOCO_API std::unordered_map&lt; std::string, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga3b8f02f12bea688291032dbe052311d6">OpenSim::createSystemControlIndexMap</a> (const Model &amp;model)</td></tr>
<tr class="memdesc:ga3b8f02f12bea688291032dbe052311d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map provides the index of each control variable in the SimTK::Vector return by OpenSim::Model::getControls() from its control name. <br /></td></tr>
<tr class="separator:ga3b8f02f12bea688291032dbe052311d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab813e9a3a814e117d7e7f5796a36518e"><td class="memItemLeft" align="right" valign="top"><a id="gab813e9a3a814e117d7e7f5796a36518e"></a>
OSIMMOCO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gab813e9a3a814e117d7e7f5796a36518e">OpenSim::checkOrderSystemControls</a> (const Model &amp;model)</td></tr>
<tr class="memdesc:gab813e9a3a814e117d7e7f5796a36518e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throws an exception if the order of the controls in the model is not the same as the order of the actuators in the model. <br /></td></tr>
<tr class="separator:gab813e9a3a814e117d7e7f5796a36518e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7e9a2727738c7f770c3797230653077"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gab7e9a2727738c7f770c3797230653077">OpenSim::checkRedundantLabels</a> (std::vector&lt; std::string &gt; labels)</td></tr>
<tr class="memdesc:gab7e9a2727738c7f770c3797230653077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Throws an exception if the same label appears twice in the list of labels.  <a href="group__mocomodelutil.html#gab7e9a2727738c7f770c3797230653077">More...</a><br /></td></tr>
<tr class="separator:gab7e9a2727738c7f770c3797230653077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2651693a131d710ec2775c3b8ec03f3"><td class="memTemplParams" colspan="2">template&lt;typename T  = double&gt; </td></tr>
<tr class="memitem:gac2651693a131d710ec2775c3b8ec03f3"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; SimTK::ReferencePtr&lt; const Output&lt; T &gt; &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gac2651693a131d710ec2775c3b8ec03f3">OpenSim::getModelOutputReferencePtrs</a> (const Component &amp;component, const std::string &amp;pattern, bool includeDescendents=false)</td></tr>
<tr class="memdesc:gac2651693a131d710ec2775c3b8ec03f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of reference pointers to all outputs whose names (not paths) match a substring defined by a provided regex string pattern.  <a href="group__mocomodelutil.html#gac2651693a131d710ec2775c3b8ec03f3">More...</a><br /></td></tr>
<tr class="separator:gac2651693a131d710ec2775c3b8ec03f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2794fef0f60e8cf6004296f78f5978d5"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#ga2794fef0f60e8cf6004296f78f5978d5">OpenSim::createPeriodicTrajectory</a> (const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;halfPeriodTrajectory, std::vector&lt; std::string &gt; addPatterns={&quot;.*pelvis_tx/value&quot;}, std::vector&lt; std::string &gt; negatePatterns={ &quot;.*pelvis_list(?!/value).*&quot;, &quot;.*pelvis_rotation.*&quot;, &quot;.*pelvis_tz(?!/value).*&quot;, &quot;.*lumbar_bending(?!/value).*&quot;, &quot;.*lumbar_rotation.*&quot;}, std::vector&lt; std::string &gt; negateAndShiftPatterns={ &quot;.*pelvis_list/value&quot;, &quot;.*pelvis_tz/value&quot;, &quot;.*lumbar_bending/value&quot;}, std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt; symmetryPatterns={{R&quot;(_r(\_|$))&quot;, &quot;_l$1&quot;}, {R&quot;(_l(\_|$))&quot;, &quot;_r$1&quot;}})</td></tr>
<tr class="memdesc:ga2794fef0f60e8cf6004296f78f5978d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a trajectory covering half the period of a symmetric motion into a trajectory over the full period.  <a href="group__mocomodelutil.html#ga2794fef0f60e8cf6004296f78f5978d5">More...</a><br /></td></tr>
<tr class="separator:ga2794fef0f60e8cf6004296f78f5978d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe5751c42bc6997f76768ee9cb20323f"><td class="memItemLeft" align="right" valign="top">OSIMMOCO_API TimeSeriesTable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gafe5751c42bc6997f76768ee9cb20323f">OpenSim::createExternalLoadsTableForGait</a> (Model model, const StatesTrajectory &amp;trajectory, const std::vector&lt; std::string &gt; &amp;forcePathsRightFoot, const std::vector&lt; std::string &gt; &amp;forcePathsLeftFoot)</td></tr>
<tr class="memdesc:gafe5751c42bc6997f76768ee9cb20323f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the ground reaction forces, centers of pressure, and torques resulting from Force elements (e.g., SmoothSphereHalfSpaceForce), using a model and states trajectory.  <a href="group__mocomodelutil.html#gafe5751c42bc6997f76768ee9cb20323f">More...</a><br /></td></tr>
<tr class="separator:gafe5751c42bc6997f76768ee9cb20323f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf1835ac7c83327eb5956922a9626d94a"><td class="memItemLeft" align="right" valign="top"><a id="gaf1835ac7c83327eb5956922a9626d94a"></a>
OSIMMOCO_API TimeSeriesTable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mocomodelutil.html#gaf1835ac7c83327eb5956922a9626d94a">OpenSim::createExternalLoadsTableForGait</a> (Model model, const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;trajectory, const std::vector&lt; std::string &gt; &amp;forcePathsRightFoot, const std::vector&lt; std::string &gt; &amp;forcePathsLeftFoot)</td></tr>
<tr class="memdesc:gaf1835ac7c83327eb5956922a9626d94a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as above, but with a <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a> instead of a StatesTrajectory. <br /></td></tr>
<tr class="separator:gaf1835ac7c83327eb5956922a9626d94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These are utilities for visualizing model, editing a <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a>, and more. </p>
<p>To use these utilities in MATLAB, prepend the function names with "opensimMoco."; for example, <code><a class="el" href="group__mocomodelutil.html#ga2088a2424cbb90feb91a326d047adcbb" title="Play back a motion (from the Storage) in the simbody-visuailzer. ">opensimMoco.visualize()</a></code> or <code><a class="el" href="group__mocomodelutil.html#ga2088a2424cbb90feb91a326d047adcbb" title="Play back a motion (from the Storage) in the simbody-visuailzer. ">org.opensim.modeling.opensimMoco.visualize()</a></code>. In Python, use <code><a class="el" href="group__mocomodelutil.html#ga2088a2424cbb90feb91a326d047adcbb" title="Play back a motion (from the Storage) in the simbody-visuailzer. ">opensim.visualize()</a></code>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9b066e96aa2b55b014a54547309f9648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b066e96aa2b55b014a54547309f9648">&#9670;&nbsp;</a></span>analyze()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">TimeSeriesTable_&lt;T&gt; OpenSim::analyze </td>
          <td>(</td>
          <td class="paramtype">Model&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;&#160;</td>
          <td class="paramname"><em>trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>outputPaths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the requested outputs using the model in the problem and the states and controls in the <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a>. </p>
<p>The output paths can be regular expressions. For example, ".*activation" gives the activation of all muscles. Constraints are not enforced but prescribed motion (e.g., <a class="el" href="class_open_sim_1_1_position_motion.html" title="This class prescribes the value, speed, and acceleration of all coordinates in the model using SimTK:...">PositionMotion</a>) is. The output paths must correspond to outputs that match the type provided in the template argument, otherwise they are not included in the report. </p><dl class="section note"><dt>Note</dt><dd>Parameters and Lagrange multipliers in the <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a> are <b>not</b> applied to the model. </dd></dl>

</div>
</div>
<a id="gab7e9a2727738c7f770c3797230653077"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7e9a2727738c7f770c3797230653077">&#9670;&nbsp;</a></span>checkRedundantLabels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API void OpenSim::checkRedundantLabels </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>labels</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Throws an exception if the same label appears twice in the list of labels. </p>
<p>The argument copies the provided labels since we need to sort them to check for redundancies. </p>

</div>
</div>
<a id="ga4b1a9aa9f611068ee70b20792b9a44de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4b1a9aa9f611068ee70b20792b9a44de">&#9670;&nbsp;</a></span>createControlNamesFromModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API std::vector&lt;std::string&gt; OpenSim::createControlNamesFromModel </td>
          <td>(</td>
          <td class="paramtype">const Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>modelControlIndices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a vector of control names based on the actuators in the model for which appliesForce == True. </p>
<p>For actuators with one control (e.g. ScalarActuator) the control name is simply the actuator name. For actuators with multiple controls, each control name is the actuator name appended by the control index (e.g. "/actuator_0"); modelControlIndices has length equal to the number of controls associated with actuators that apply a force (appliesForce == True). Its elements are the indices of the controls in the Model::updControls() that are associated with actuators that apply a force. </p>

</div>
</div>
<a id="gafe5751c42bc6997f76768ee9cb20323f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe5751c42bc6997f76768ee9cb20323f">&#9670;&nbsp;</a></span>createExternalLoadsTableForGait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API TimeSeriesTable OpenSim::createExternalLoadsTableForGait </td>
          <td>(</td>
          <td class="paramtype">Model&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StatesTrajectory &amp;&#160;</td>
          <td class="paramname"><em>trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>forcePathsRightFoot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>forcePathsLeftFoot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtain the ground reaction forces, centers of pressure, and torques resulting from Force elements (e.g., SmoothSphereHalfSpaceForce), using a model and states trajectory. </p>
<p>Forces and torques are expressed in the ground frame with respect to the ground origin. Hence, the centers of pressure are at the origin. Paths to Force elements should be provided separately for elements of the right and left feet. The output is a table formatted for use with <a class="el" href="namespace_open_sim.html" title="The utilities in this file are categorized as follows: ">OpenSim</a> tools; the labels of the columns distinguish between right ("&lt;&gt;_r") and left ("&lt;&gt;_l") forces, centers of pressure, and torques. The forces and torques used are taken from the first six outputs of getRecordValues(); this order is of use for, for example, the SmoothSphereHalfSpaceForce contact model but might have a different meaning for different contact models. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example2_d_walking_8cpp-example.html#a25">example2DWalking.cpp</a>.</dd>
</dl>
</div>
</div>
<a id="ga2794fef0f60e8cf6004296f78f5978d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2794fef0f60e8cf6004296f78f5978d5">&#9670;&nbsp;</a></span>createPeriodicTrajectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> OpenSim::createPeriodicTrajectory </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;&#160;</td>
          <td class="paramname"><em>halfPeriodTrajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>addPatterns</em> = <code>{&quot;.*pelvis_tx/value&quot;}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>negatePatterns</em> = <code>{&#160;&quot;.*pelvis_list(?!/value).*&quot;,&#160;&quot;.*pelvis_rotation.*&quot;,&#160;&quot;.*pelvis_tz(?!/value).*&quot;,&#160;&quot;.*lumbar_bending(?!/value).*&quot;,&#160;&quot;.*lumbar_rotation.*&quot;}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>negateAndShiftPatterns</em> = <code>{&#160;&quot;.*pelvis_list/value&quot;,&#160;&quot;.*pelvis_tz/value&quot;,&#160;&quot;.*lumbar_bending/value&quot;}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::string &gt;&gt;&#160;</td>
          <td class="paramname"><em>symmetryPatterns</em> = <code>{{R&quot;(_r(\_|$))&quot;,&#160;&quot;_l$1&quot;},&#160;{R&quot;(_l(\_|$))&quot;,&#160;&quot;_r$1&quot;}}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a trajectory covering half the period of a symmetric motion into a trajectory over the full period. </p>
<p>This is useful for simulations of half a gait cycle. This converts time, states, controls, and derivatives; all other quantities from the input trajectory are ignored. If a column in the trajectory does not match addPatterns, negatePatterns, negateAndShiftPatterns, or symmetryPatterns, then the second half of the period contains the same data as the first half.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">halfPeriodTrajectory</td><td>The input trajectory covering half a period. </td></tr>
    <tr><td class="paramname">addPatterns</td><td>If a column label matches an addPattern, then the second half of the period for that column is (first_half_trajectory + half_period_value - initial_value). </td></tr>
    <tr><td class="paramname">negatePatterns</td><td>If a column label matches a negatePattern, then the second half of the period for that column is (-first_half_trajectory). This is usually relevant for only 3D models. </td></tr>
    <tr><td class="paramname">negateAndShiftPatterns</td><td>If a column label matches a negateAndShiftPattern, then the second half of the period for that column is (-first_half_trajectory + 2 * half_period_value). This is usually relevant for only 3D models. </td></tr>
    <tr><td class="paramname">symmetryPatterns</td><td>This argument is a list of pairs, where the first element of the pair is a pattern to match, and the second is a substitution to convert the column label into the opposite column label of the symmetric pair. If a column label matches a symmetryPattern, then its first half-period is copied into the second half of the period for the column identified by the substitution.</td></tr>
  </table>
  </dd>
</dl>
<p>The default values for the patterns are intended to handle the column labels for typical 2D or 3D <a class="el" href="namespace_open_sim.html" title="The utilities in this file are categorized as follows: ">OpenSim</a> gait models. The default values for negatePatterns, negateAndShiftPatterns, and symmetryPatterns warrant an explanation. The string pattern before the regex "(?!/value)" is followed by anything except "/value" since it is contained in the negative lookahead "(?!...)". R"()" is a string literal that permits us to not escape backslash characters. The regex "_r(\/|_|$)" matches "_r" followed by either a forward slash (which is escaped), an underscore, OR the end of the string ($). Since the forward slash and end of the string are within parentheses, whatever matches this is captured and is available in the substitution (the second element of the pair) as $1. The default symmetry patterns cause the following replacements:</p><ul>
<li>"/jointset/hip_r/hip_flexion_r/value" becomes "/jointset/hip_l/hip_flexion_l/value"</li>
<li>"/forceset/soleus_r" becomes "/forceset/soleus_l" </li>
</ul>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example2_d_walking_8cpp-example.html#a24">example2DWalking.cpp</a>.</dd>
</dl>
</div>
</div>
<a id="ga1045cb61806f23d170ebf40a1b107ee3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1045cb61806f23d170ebf40a1b107ee3">&#9670;&nbsp;</a></span>createStateVariableNamesInSystemOrder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API std::vector&lt;std::string&gt; OpenSim::createStateVariableNamesInSystemOrder </td>
          <td>(</td>
          <td class="paramtype">const Model &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The map provides the index of each state variable in SimTK::State::getY() from its each state variable path string. </p>
<p>Empty slots in Y (e.g., for quaternions) are ignored. </p>

</div>
</div>
<a id="gac2651693a131d710ec2775c3b8ec03f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac2651693a131d710ec2775c3b8ec03f3">&#9670;&nbsp;</a></span>getModelOutputReferencePtrs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T  = double&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;SimTK::ReferencePtr&lt;const Output&lt;T&gt; &gt; &gt; OpenSim::getModelOutputReferencePtrs </td>
          <td>(</td>
          <td class="paramtype">const Component &amp;&#160;</td>
          <td class="paramname"><em>component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>includeDescendents</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of reference pointers to all outputs whose names (not paths) match a substring defined by a provided regex string pattern. </p>
<p>The regex string pattern could be the full name of the output. Only Outputs that match the template argument type will be returned (double is the default type). Set the argument 'includeDescendents' to true to include outputs from all descendents from the provided component. </p>

</div>
</div>
<a id="ga8a5e23c1b04a1ceed9643401d84faf0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a5e23c1b04a1ceed9643401d84faf0d">&#9670;&nbsp;</a></span>prescribeControlsToModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API void OpenSim::prescribeControlsToModel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;&#160;</td>
          <td class="paramname"><em>trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Model &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>functionType</em> = <code>&quot;GCVSpline&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a> and the associated <a class="el" href="namespace_open_sim.html" title="The utilities in this file are categorized as follows: ">OpenSim</a> model, return the model with a prescribed controller appended that will compute the control values from the <a class="el" href="class_open_sim_1_1_moco_solution.html" title="Return type for MocoStudy::solve(). ">MocoSolution</a>. </p>
<p>This can be useful when computing state-dependent model quantities that require realization to the Dynamics stage or later. The function used to fit the controls can either be GCVSpline or PiecewiseLinearFunction. </p>

</div>
</div>
<a id="gad97da724511385e65032f6fb9573abe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad97da724511385e65032f6fb9573abe5">&#9670;&nbsp;</a></span>simulateTrajectoryWithTimeStepping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> OpenSim::simulateTrajectoryWithTimeStepping </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_open_sim_1_1_moco_trajectory.html">MocoTrajectory</a> &amp;&#160;</td>
          <td class="paramname"><em>trajectory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Model&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>integratorAccuracy</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use the controls and initial state in the provided trajectory to simulate the model using an ODE time stepping integrator (OpenSim::Manager), and return the resulting states and controls. </p>
<p>We return a <a class="el" href="class_open_sim_1_1_moco_trajectory.html" title="The values of the variables in an optimal control problem. ">MocoTrajectory</a> (rather than a StatesTrajectory) to facilitate comparing optimal control solutions with time stepping. Use integratorAccuracy to override the default setting. </p>

</div>
</div>
<a id="ga2088a2424cbb90feb91a326d047adcbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2088a2424cbb90feb91a326d047adcbb">&#9670;&nbsp;</a></span>visualize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSIMMOCO_API void OpenSim::visualize </td>
          <td>(</td>
          <td class="paramtype">Model&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Storage&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Play back a motion (from the Storage) in the simbody-visuailzer. </p>
<p>The Storage should contain all generalized coordinates. The visualizer window allows the user to control playback speed. This function blocks until the user exits the simbody-visualizer window. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="example_moco_track_8m-example.html#a0">exampleMocoTrack.m</a>, <a class="el" href="example_squat_to_stand_8m-example.html#a0">exampleSquatToStand.m</a>, and <a class="el" href="example_squat_to_stand_answers_8m-example.html#a0">exampleSquatToStand_answers.m</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</body>
</html>
